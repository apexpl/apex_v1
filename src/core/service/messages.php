<?php
declare(strict_types = 1);

namespace apex\core\service;

/**
 * Parent abstract class for the service, used to help 
 * control the flow of data to / from adapters, and define the abstract methods required 
 * by adapters.
 */
class messages
{

    /**
     * Optionally define a BASE64 encoded string here, and this will be used as the default code 
     * for all adapters created for this service.
     * 
     * Use the merge field messages 
     * for the class name, and it will be replaced appropriately.
     */
    public $default_code = 'PD9waHAKZGVjbGFyZShzdHJpY3RfdHlwZXMgPSAxKTsKCm5hbWVzcGFjZSBhcGV4XGNvcmVcc2VydmljZVxtZXNzYWdlczsKCnVzZSBhcGV4XGFwcDsKdXNlIGFwZXhcbGliY1xkYjsKdXNlIGFwZXhcbGliY1xkZWJ1ZzsKdXNlIGFwZXhcdXNlcnNcdXNlcjsKdXNlIGFwZXhcY29yZVxhZG1pbjsKdXNlIGFwZXhcY29yZVxzZXJ2aWNlXG1lc3NhZ2VzOwoKLyoqCiAqIE1lc3NhZ2VzIGFkYXB0ZXIKICovCmNsYXNzIH5hbGlhc34gZXh0ZW5kcyBtZXNzYWdlcwp7CgogICAgLyoqCiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYWRhcHRlciwgYXMgZGlzcGxheWVkIHdpdGhpbiB0aGUgd2ViIGJyb3dzZXIuCiAgICAgKiBAdmFyIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgc3RyaW5nICRkaXNwbGF5X25hbWUgPSAnQ29udHJvbGxlciBOYW1lJzsKCiAgICAvKioKICAgICAqIEFuIGFycmF5IG9mIGZvcm0gZmllbGRzIGRpc3BsYXllZCB3aGVuIHRoZSBhZG1pbmlzdHJhdG9yIGlzIGRlZmluaW5nIHRoZSBtZXNzYWdlIAogICAgICogdmlhIHRoZSBTZXR0aW5ncy0+Tm90aWZpY2F0aW9ucyBtZW51IG9mIHRoZSBhZG1pbmlzdHJhdGlvbiBwYW5lbC4gIFRoZXNlIGZpZWxkcyAKICAgICAqIGRlZmluZSB0aGUgY29uZGl0aW9uIHRoYXQgbXVzdCBiZSBtZXQgZm9yIHRoaXMgbm90aWZpY2F0aW9uIHRvIGJlIHNlbnQsIGFuZCBhcmUgdGhlIAogICAgICogc2FtZSBhcyB3aGVuIGRlZmluaW5nIGZpZWxkcyB3aXRoaW4gSFRNTCBGb3JtIGNvbXBvbmVudC4KICAgICAqCiAgICAgKiBAdmFyIGFycmF5CiAgICAgKi8KICAgIHB1YmxpYyBhcnJheSAkZmllbGRzID0gWwoKICAgIF07CgogICAgLyoqCiAgICAgIEFycmF5IG9mIGF2YWlsYWJsZSBzZW5kZXJzIGZvciB0aGlzIGFycmF5LCB3aGljaCBhcmUgZGlzcGxheWVkIHdpdGhpbiB0aGUgCiAgICAgKiBzZWxlY3QgbGlzdCB1cG9uIGNyZWF0aW5nIGUtbWFpbCBub3RpZmljYXRpb25zIHZpYSB0aGUgU2V0dGluZ3MtPk5vdGlmaWNhdGlvbnMgCiAgICAgKiBtZW51IG9mIHRoZSBhZG1pbmlzdHJhdGlvbiBwYW5lbC4KICAgICAqCiAgICAgKiBAdmFyIGFycmF5CiAgICAgKi8KICAgIHB1YmxpYyBhcnJheSAkc2VuZGVycyA9IFsKICAgICAgICAnYWRtaW4nID0+ICdBZG1pbmlzdHJhdG9yJywKICAgICAgICAndXNlcicgPT4gJ1VzZXInCiAgICBdOwoKICAgIC8qKgogICAgICogQXJyYXkgb2YgYXZhaWxhYmxlIHJlY2lwaWVudHMgd2hpY2ggYXJlIGRpc3BsYXllZCB3aXRoaW4gYSAKICAgICAqIHNlbGVjdCBsaXN0IHdoZW4gZGVmaW5pbmcgZS1tYWlsIG5vdGlmaWNhdGlvbnMgdmlhIHRoZSAKICAgICAqIFNldHRpbmdzLT5Ob3RpZmljYXRpb25zIG1lbnUgb2YgdGhlIGFkbWluaXN0cmF0aW9uIHBhbmVsLgogICAgICoKICAgICAqIEB2YXIgYXJyYXkKICAgICAqLwogICAgcHVibGljIGFycmF5ICRyZWNpcGllbnRzID0gWwogICAgICAgICd1c2VyJyA9PiAnVXNlcicsCiAgICAgICAgJ2FkbWluJyA9PiAnQWRtaW5pc3RyYXRvcicKICAgIF07CgoKLyoqCiAqIEdldCBhdmFpbGFibGUgbWVyZ2UgZmllbGRzLiAgVXNlZCB3aGVuIGNyZWF0aW5nIG5vdGlmaWNhdGlvbiB2aWEgYWRtaW4gCiAqIHBhbmVsIC0tIFNldHRpbmdzLT5Ob3RpZmljYXRpb25zIG1lbnUuICBUaGlzIGhlbHBzIHBvcHVsYXRlIHRoZSBzZWxlY3QgbGlzdCAKICogb2YgYXZhaWxhYmxlIG1lcmdlIGZpZWxkcy4KICoKICogQHJldHVybiBhcnJheSBBc3NvY2lhdHZlIGFycmF5IG9mIHRoZSBhdmFpbGFibGUgbWVyZ2UgZmllbGRzIGZvciB0aGlzIG5vdGlmaWNhdGlvbiBjb250cm9sbGVyLgogKi8KcHVibGljIGZ1bmN0aW9uIGdldF9tZXJnZV9maWVsZHMoKTphcnJheQp7CgogICAgLy8gU2V0IGZpZWxkcwogICAgJGZpZWxkcyA9IGFycmF5KCk7CgogICAgLy8gUmV0dXJuCiAgICByZXR1cm4gJGZpZWxkczsKCn0KICAgIAoKCi8qKgogKiBHZXQgbWVyZ2UgdmFyaWFibGVzLgogKgogKiBUaGlzIG9idGFpbnMgdGhlIG5lY2Vzc2FyeSBtZXJnZSB2YXJpYWJsZXMgZnJvbSB0aGUgZGF0YWJhc2UsIGFzIHlvdSBkZWZpbmVkIAogKiB3aXRoaW4gdGhlIGdldF9tZXJnZV9maWVsZHMoKSBmdW5jdGlvbiBvZiB0aGlzIGNsYXNzLiAgVGhlc2UgYXJlIHVzZWQgdG8gcGVyc29uYWxpemUgdGhlIAogKiBtZXNzYWdlIGZvciB0aGUgc3BlY2lmaWMgdHJhbnNhY3Rpb24gLyByZXF1ZXN0LgogKgogKiBAcGFyYW0gaW50ICR1c2VyaWQgVGhlIElEIyBvZiB0aGUgdXNlciBlLW1haWxzIGFyZSBiZWluZyBwcm9jZXNzZWQgYWdhaW5zdC4KICogQHBhcmFtIGFycmF5ICRkYXRhIEFueSBleHRyYSBkYXRhIG5lZWRlZC4KICoKICogQHJldHVybiBhcnJheSBBbiBhc3NvY2lhdGl2ZSBhcnJheSBvZiB0aGUgbWVyZ2UgdmFyaWFibGVzIHRvIHBlcnNvbmFsaXplIHRoZSBlLW1haWwgbWVzc2dhZSB3aXRoLgogKi8KcHVibGljIGZ1bmN0aW9uIGdldF9tZXJnZV92YXJzKGludCAkdXNlcmlkLCBhcnJheSAkZGF0YSk6YXJyYXkKewoKICAgIC8vIFNldCB2YXJzCiAgICAkdmFycyA9IGFycmF5KCk7CgogICAgLy8gUmV0dXJuCiAgICByZXR1cm4gJHZhcnM7Cgp9CgoKLyoqCiAqIEdldCByZWNpcGllbnQKICoKICogVXNlZCB3aGVuIHRoZSBub3RpZmljYXRpb24gY29udHJvbGxlciBzdXBwb3J0cyByZWNpcGllbnRzIC8gc2VuZGVycyBvdGhlciB0aGFuIHRoZSAKICogZGVmYXVsdHMgb2YgYWRtaW46WFggYW5kIHVzZXIuICBUaGlzIGZ1bmN0aW9uIHRha2VzIGluIHRoZSBzdHJpbmcgb2YgdGhlIHJlY2lwaWVudCAvIHNlbmRlciwgcGx1cyB0aGUgCiAqIElEIyBvZiB0aGUgdXNlciBub3RpZmljYXRpb25zIGFyZSBiZWluZyBwcm9jZXNzZWQgYWdhaW5zdCwgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGZ1bGwgbmFtZSBhbmQgZS1tYWlsICAKICogYWRkcmVzcyBvZiByZWNpcGllbnQgLyBzZW5kZXIuCiAqCiAqIEBwYXJhbSBzdHJpbmcgJHJlY2lwaWVudCBUaGUgcmVjaXBpZW50IHRvIG9idGFpbi4KICogQHBhcmFtIGludCAkdXNlcmlkIFRoZSB1c2VyIGlkIHRoYXQgZS1tYWlscyBhcmUgYmVpbmcgcHJvY2Vzc2VkIGFnYWluc3QuCiAqIEBwYXJhbSBhcnJheSAkZGF0YSBPcHRpb25hbCBhcnJheSBvZiBhbnkgbmVjZXNzYXJ5IGRhdGEuIAogKi8KcHVibGljIGZ1bmN0aW9uIGdldF9yZWNpcGllbnQoc3RyaW5nICRyZWNpcGllbnQsIGludCAkdXNlcmlkLCBhcnJheSAkZGF0YSA9IGFycmF5KCkpCnsgCgogICAgLy8gUmV0dXJuCiAgICByZXR1cm4gZmFsc2U7Cgp9Cgp9CgoK';



}

